{% comment %}
  Product Info Component
  Renders product information including title, subtitle, price, reviews, and features.
  Accepts:
  - product: {Object} Product object
  - section: {Object} Section object for settings
  Usage:
  {% render 'product-info', product: product, section: section %}
{% endcomment %}

<div class="product-info-container_new">
  <!-- Product Title -->
  <h1 class="product-name_new">
    {%- if section.settings.product_title != blank -%}
      {{ section.settings.product_title }}
    {%- else -%}
      {{ product.title }}
    {%- endif -%}
  </h1>

  <!-- Product Subtitle -->
  {%- if section.settings.product_subtitle != blank -%}
    <p class="product-subtitle_new">{{ section.settings.product_subtitle }}</p>
  {%- endif -%}

  <!-- Reviews -->
  {%- if section.settings.show_reviews and section.settings.review_text != blank -%}
    <div class="review_new">
      <div class="stars_new">
        {%- for i in (1..5) -%}
          <svg
            fill="#ffcf47"
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 475.075 475.075">
            <path d="M475.075,186.573c0-7.043-5.328-11.42-15.992-13.135L315.766,152.6L251.529,22.694c-3.614-7.804-8.281-11.704-13.99-11.704   c-5.708,0-10.372,3.9-13.989,11.704L159.31,152.6L15.986,173.438C5.33,175.153,0,179.53,0,186.573c0,3.999,2.38,8.567,7.139,13.706   l103.924,101.068L86.51,444.096c-0.381,2.666-0.57,4.575-0.57,5.712c0,3.997,0.998,7.374,2.996,10.136   c1.997,2.766,4.993,4.142,8.992,4.142c3.428,0,7.233-1.137,11.42-3.423l128.188-67.386l128.197,67.386   c4.004,2.286,7.81,3.423,11.416,3.423c3.819,0,6.715-1.376,8.713-4.142c1.992-2.758,2.991-6.139,2.991-10.136   c0-2.471-0.096-4.374-0.287-5.712l-24.555-142.749l103.637-101.068C472.604,195.33,475.075,190.76,475.075,186.573z" />
          </svg>
        {%- endfor -%}
      </div>
      <p class="review-text_new">{{ section.settings.review_text }}</p>
    </div>
  {%- endif -%}

  <!-- Feature Lines -->
  {%- if section.settings.show_features -%}
    {%- if section.settings.feature_line_1 != blank -%}
      <p class="product-features-text_new">{{ section.settings.feature_line_1 }}</p>
    {%- endif -%}
    {%- if section.settings.feature_line_2 != blank -%}
      <p class="product-features-text_new">{{ section.settings.feature_line_2 }}</p>
    {%- endif -%}
  {%- endif -%}

  <!-- Desktop Price -->
  <div class="product-price-section_new">
    <div class="product-price-container_new">
      <p class="product-price_new">{{ product.selected_or_first_available_variant.price | money }}</p>
      {%- if product.selected_or_first_available_variant.compare_at_price > product.selected_or_first_available_variant.price -%}
        <p class="product-price-original_new">{{ product.selected_or_first_available_variant.compare_at_price | money }}</p>
      {%- endif -%}
    </div>

    <!-- AtivaPeople Badge -->
    {%- if section.settings.show_ativapeople_badge -%}
      <div class="ativapeople-badge_new">
        {{ section.settings.ativapeople_badge_text }}
      </div>
    {%- endif -%}
  </div>

  <!-- Payment Options -->
  {%- if section.settings.show_payment_options and section.settings.payment_text != blank -%}
    <div class="payment-options">
      <p class="payment-text_new">
        {%- assign product_price = product.selected_or_first_available_variant.price -%}
        {%- assign installment_price = product_price | divided_by: 4 -%}
        {%- assign monthly_price = product_price | divided_by: 12 -%}
        {{ section.settings.payment_text }}
        {%- if section.settings.show_shop_pay_logo -%}
          <img
            src="{{ 'shop-pay.png' | asset_url }}"
            alt="Shop Pay"
            class="shop-pay-logo_new"
            width="78"
            height="18"
            loading="lazy">
        {%- endif -%}
        {%- if section.settings.learn_more_payment_url != blank -%}
          <a href="{{ section.settings.learn_more_payment_url }}" class="learn-more-link_new">{{ section.settings.learn_more_text | default: "Learn more" }}</a>
        {%- endif -%}
      </p>
    </div>
  {%- endif -%}
</div>