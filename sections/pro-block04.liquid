<style>
	.shane-pro-b4{
		width: 100%; 
		max-width: 1400px;
		margin: 0 auto;
		padding: 0 20px 60px;
		box-sizing: border-box;
	}
	.shane-pro-b4 h2{
		margin: 0; text-align: center; font-size: 36px; font-weight: 400; line-height: 1.3;
	}
	@media (max-width: 1200px){
		.shane-pro-b4 h2{
			font-size: 32px;
		}
	}
	@media (max-width: 992px){
		.shane-pro-b4 h2{
			font-size: 28px;
		}
	}
	.shane-pro-b4>.text{
		font-size: 14px; opacity: 0.6; width: 600px; max-width: calc(100% - 40px); margin: 20px auto 0px!important; text-align: center; line-height:20px;
	}
	.b4-viewing{
		display: flex; width: 100%; justify-content: space-between; align-items: flex-start;
	}
	.b4-viewing-left{
		max-width:30%; font-size: 14px; flex-shrink: 0;
	}
	.b4-viewing-left>div:first-child{
		margin-top: 230px;
	}
	.b4-viewing-right{
		text-align: center; font-size: 14px; display: flex; justify-content: center; align-items: flex-start;
	}
	@media (min-width: 1200px){
		
	}
	@media (min-width: 1400px){
		
	}
	.b4-viewing-right>div{
		 border:1px solid #ffffff; border-radius: 8px; overflow: hidden;max-width: 300px;
	}
	.b4-viewing-right .active{
		border:1px solid #FF6100;
	}
	.viewing-head{
		font-size: 14px; color: #fff; background-color: #ffffff; text-transform: uppercase; line-height: 40px; border-radius: 8px 8px 0 0;
		opacity: 0;
		transform: translateY(-100%);
		transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
	}
	.b4-viewing-right .active .viewing-head{
		opacity: 1;
		transform: translateY(0);
		animation: slideDownFromTop 0.4s cubic-bezier(0.4, 0, 0.2, 1);
	}
	@keyframes slideDownFromTop {
		from {
			opacity: 0;
			transform: translateY(-100%);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}
	.viewing-img{
		height: 180px; display: flex; align-items: center; justify-content: center;
	}
	.viewing-img img {
		height: 80%;
	}
	.viewing-title{
		font-size: 16px; font-weight: 600;
	}
	.viewing-price{
		font-size: 18px; font-weight: 600;
	}
	.viewing-cart{
		height: 40px;
	}
	.viewing-cart .viewing-button{
		width: 100%; height: 100%; line-height: 40px; background-color: #FF6100; color: #fff; font-size: 16px; border: 0; margin: 0; padding: 0; cursor: pointer; display: none; border-radius: 0 0 8px 8px;
		opacity: 0;
		transform: translateY(100%);
		transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
	}
	.b4-viewing-right .active{
		border:1px solid #FF6100;
	}
	.b4-viewing-right .active .viewing-head{
		background-color: #FF6100;
	}
	.b4-viewing-right .active .viewing-button{
		display: block;
		opacity: 1;
		transform: translateY(0);
		animation: slideUpFromBottom 0.4s cubic-bezier(0.4, 0, 0.2, 1);
	}
	@keyframes slideUpFromBottom {
		from {
			opacity: 0;
			transform: translateY(100%);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}
	/* Primeiro card já ativo por padrão - mostrar elementos sem animação inicial */
	.b4-viewing-right>div.active:first-of-type .viewing-head,
	.b4-viewing-right>div.active:first-of-type .viewing-button {
		animation: none;
		opacity: 1;
		transform: translateY(0);
	}
/* Slider para 1024px */
.b4-viewing-right-wrapper{
	display: flex;
	width: 100%;
}
@media (min-width: 769px) and (max-width: 1024px){
	.b4-viewing-right{
		position: relative;
		overflow: hidden;
		width: 100%;
	}
	.b4-viewing-right-wrapper{
		transition: transform 0.4s ease;
	}
	.b4-viewing-right-wrapper>div{
		min-width: 100%;
		width: 100%;
		flex-shrink: 0;
		max-width: 100%;
	}
	.b4-slider-nav{
		position: absolute;
		top: 50%;
		transform: translateY(-50%);
		background: #FF6100;
		border: none;
		width: 40px;
		height: 40px;
		border-radius: 50%;
		cursor: pointer;
		z-index: 10;
		display: flex;
		align-items: center;
		justify-content: center;
		color: #fff;
		font-size: 24px;
		font-weight: bold;
		line-height: 1;
		transition: all 0.3s ease;
		box-shadow: 0 2px 8px rgba(0,0,0,0.2);
	}
	.b4-slider-nav:hover{
		background: #e55a00;
		transform: translateY(-50%) scale(1.1);
	}
	.b4-slider-nav.prev{
		left: 10px;
	}
	.b4-slider-nav.next{
		right: 10px;
	}
	.b4-slider-nav:disabled{
		opacity: 0.4;
		cursor: not-allowed;
	}
	.b4-slider-nav:disabled:hover{
		transform: translateY(-50%) scale(1);
	}
	.b4-slider-dots{
		display: flex;
		justify-content: center;
		gap: 8px;
		margin-top: 20px;
	}
	.b4-slider-dot{
		width: 10px;
		height: 10px;
		border-radius: 50%;
		background: rgba(255, 255, 255, 0.4);
		border: none;
		cursor: pointer;
		transition: all 0.3s ease;
		padding: 0;
	}
	.b4-slider-dot.active{
		background: #FF6100;
		width: 24px;
		border-radius: 5px;
	}
}
@media (min-width: 1025px){
	.b4-slider-nav,
	.b4-slider-dots{
		display: none;
	}
}
@media (max-width: 768px){
	.shane-pro-b4{
		padding: 0px 20px 40px;
		overflow-x: hidden;
	}
	.b4-viewing{
		overflow-x: hidden;
	}
	.shane-pro-b4 h2{
		font-size: 28px; line-height: 1.3; width: 100%; max-width: 500px; margin: auto;
	}
	.shane-pro-b4>.text{
		width: 100%; margin: 20px auto 40px!important; font-size: 16px; line-height: 1.5;
	}
	.b4-viewing-left{
		width: 150px; min-width: 150px; max-width: 150px; font-size: 14px; flex-shrink: 0;
	}
	.b4-viewing-left>div:first-child{
		margin-top: 230px;
	}
	.b4-viewing-right{
		width: 100%; font-size: 14px; overflow-x: auto; overflow-y: hidden;
		display: flex; gap: 20px; scroll-snap-type: x mandatory;
		-webkit-overflow-scrolling: touch;
		scrollbar-width: thin;
		padding: 0;
		margin: 0;
		scroll-padding-left: 0;
		scroll-padding-right: 0;
		scroll-behavior: smooth;
	}
	.b4-viewing-right::-webkit-scrollbar {
		height: 4px;
	}
	.b4-viewing-right::-webkit-scrollbar-track {
		background: rgba(255, 255, 255, 0.1);
		border-radius: 2px;
	}
	.b4-viewing-right::-webkit-scrollbar-thumb {
		background: rgba(255, 255, 255, 0.3);
		border-radius: 2px;
	}
	.b4-viewing-right>div{
		border-radius: 8px; overflow: hidden;
		scroll-snap-align: start;
		margin: 0;
		box-sizing: border-box;
		position: relative;
	}
	.b4-viewing-right>div:first-child{
		scroll-margin-left: 0;
		scroll-margin-right: 0;
	}
	.b4-viewing-right .active{
		border:1px solid #FF6100;
	}
	.b4-viewing-right>div>div{
		 display: flex; justify-content: center; align-items: center;
	}
	.viewing-head{
		font-size: 14px; line-height: 50px; border-radius: 8px 8px 0 0;
		opacity: 0;
		transform: translateY(-100%);
		transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
	}
	.b4-viewing-right .active .viewing-head{
		opacity: 1;
		transform: translateY(0);
		animation: slideDownFromTop 0.4s cubic-bezier(0.4, 0, 0.2, 1);
	}
	
	.viewing-title{
		font-size: 16px;
	}
	.viewing-price{
		font-size: 18px;
	}
	.viewing-cart{
		height: 50px;
	}
    .viewing-cart a{
		width:100%;
	}
	.viewing-cart .viewing-button{
		line-height: 50px; font-size: 16px; width:100%; border-radius: 0 0 8px 8px;
		opacity: 0;
		transform: translateY(100%);
		transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
	}
	.b4-viewing-right .active .viewing-button{
		opacity: 1;
		transform: translateY(0);
		animation: slideUpFromBottom 0.4s cubic-bezier(0.4, 0, 0.2, 1);
	}

</style>
	<h2>{{ section.settings.heading }}</h2>
	<div class="text">
		{{ section.settings.text }}
	</div>
	<div class="b4-viewing">
		<div class="b4-viewing-left">
			{% if section.settings.model1 != blank %}
				<div>{{section.settings.model1 }}</div>
			{% endif %}
			{% if section.settings.weight != blank %}
				<div>{{ section.settings.weight }}</div>
			{% endif %}
			{% if section.settings.increment != blank %}
				<div>{{ section.settings.increment }}</div>
			{% endif %}
			{% if section.settings.dimension != blank %}
				<div>{{ section.settings.dimension }}</div>
			{% endif %}
			{% if section.settings.package != blank %}
				<div>{{ section.settings.package }}</div>
			{% endif %}
			{% if section.settings.material != blank %}
				<div>{{ section.settings.material }}</div>
			{% endif %}
			{% if section.settings.handle1 != blank %}
				<div>{{ section.settings.handle1 }}</div>
			{% endif %}
			{% if section.settings.mechanism != blank %}
				<div>{{ section.settings.mechanism }}</div>
			{% endif %}
			{% if section.settings.price != blank %}
				<div>{{ section.settings.price }}</div>
			{% endif %}
			{% if section.settings.user != blank %}
				<div>{{ section.settings.user }}</div>
			{% endif %}
		</div>
		<div class="b4-viewing-right">
			<div class="b4-viewing-right-wrapper">
				{%- assign my_variable = 0 -%} 
				{%- for block in section.blocks -%}
					{%- assign my_variable = my_variable | plus: 1 -%} 
					<div class="{% if my_variable==1 %}active{% endif %}">
						<div class="viewing-head">you are viewing</div>
						<div class="viewing-img"><img src="{{ block.settings.image | image_url }}" alt="{{ block.settings.image.alt }}"></div>
						{% if section.settings.model1 != blank %}<div class="viewing-title">{{ block.settings.text01 }}</div>{% endif %}
						{% if section.settings.weight != blank %}<div>{{ block.settings.text02 }}</div>{% endif %}
						{% if section.settings.increment != blank %}<div>{{ block.settings.text03 }}</div>{% endif %}
						{% if section.settings.dimension != blank %}<div>{{ block.settings.text04 }}</div>{% endif %}
						{% if section.settings.package != blank %}<div>{{ block.settings.text05 }}</div>{% endif %}
						{% if section.settings.material != blank %}<div>{{ block.settings.text06 }}</div>{% endif %}
						{% if section.settings.handle1 != blank %}<div>{{ block.settings.text07 }}</div>{% endif %}
						{% if section.settings.mechanism != blank %}<div>{{ block.settings.text08 }}</div>{% endif %}
						{% if section.settings.price != blank %}
							<div class="viewing-price">{{ block.settings.text09 }}</div>
						{% endif %}
						{% if section.settings.user != blank %}
							<div>{{ block.settings.text10 }}</div>
						{% endif %}
						<div class="viewing-cart">
							<a href="{{ block.settings.link }}"><input type="button" class="viewing-button" value="View More"></a>
						</div>
					</div>
				{% endfor %}
			</div>
			<button class="b4-slider-nav prev" aria-label="Previous" style="display: none;">‹</button>
			<button class="b4-slider-nav next" aria-label="Next" style="display: none;">›</button>
			<div class="b4-slider-dots" style="display: none;"></div>
		</div>
	</div>
	<script>
		(function() {
			function initSlider() {
				const container = document.querySelector('.b4-viewing-right');
				const wrapper = document.querySelector('.b4-viewing-right-wrapper');
				const cards = document.querySelectorAll('.b4-viewing-right-wrapper>div');
				const prevBtn = document.querySelector('.b4-slider-nav.prev');
				const nextBtn = document.querySelector('.b4-slider-nav.next');
				const dotsContainer = document.querySelector('.b4-slider-dots');
				
				if (!container || !wrapper || cards.length === 0) return;
				
				let currentIndex = 0;
				const isTablet = window.innerWidth >= 769 && window.innerWidth <= 1024;
				
				// Criar dots
				if (isTablet && dotsContainer) {
					cards.forEach(function(_, index) {
						const dot = document.createElement('button');
						dot.className = 'b4-slider-dot' + (index === 0 ? ' active' : '');
						dot.setAttribute('aria-label', 'Go to slide ' + (index + 1));
						dot.addEventListener('click', function() {
							goToSlide(index);
						});
						dotsContainer.appendChild(dot);
					});
				}
				
				function updateSlider() {
					if (!isTablet) return;
					
					const translateX = -currentIndex * 100;
					wrapper.style.transform = 'translateX(' + translateX + '%)';
					
					// Atualizar botões
					if (prevBtn) {
						prevBtn.disabled = currentIndex === 0;
					}
					if (nextBtn) {
						nextBtn.disabled = currentIndex === cards.length - 1;
					}
					
					// Atualizar dots
					const dots = document.querySelectorAll('.b4-slider-dot');
					dots.forEach(function(dot, index) {
						if (index === currentIndex) {
							dot.classList.add('active');
						} else {
							dot.classList.remove('active');
						}
					});
					
					// Atualizar active nos cards
					cards.forEach(function(card, index) {
						if (index === currentIndex) {
							card.classList.add('active');
						} else {
							card.classList.remove('active');
						}
					});
				}
				
				function goToSlide(index) {
					if (index < 0 || index >= cards.length) return;
					currentIndex = index;
					updateSlider();
				}
				
				function nextSlide() {
					if (currentIndex < cards.length - 1) {
						currentIndex++;
						updateSlider();
					}
				}
				
				function prevSlide() {
					if (currentIndex > 0) {
						currentIndex--;
						updateSlider();
					}
				}
				
				// Event listeners para botões
				if (prevBtn) {
					prevBtn.addEventListener('click', prevSlide);
				}
				if (nextBtn) {
					nextBtn.addEventListener('click', nextSlide);
				}
				
				// Inicializar
				updateSlider();
				
				// Reajustar ao redimensionar
				let resizeTimer;
				window.addEventListener('resize', function() {
					clearTimeout(resizeTimer);
					resizeTimer = setTimeout(function() {
						const newIsTablet = window.innerWidth >= 769 && window.innerWidth <= 1024;
						if (newIsTablet !== isTablet) {
							location.reload();
						} else if (newIsTablet) {
							updateSlider();
						}
					}, 250);
				});
			}
			
			function initHoverEffect() {
				const cards = document.querySelectorAll('.b4-viewing-right-wrapper>div, .b4-viewing-right>div');
				const isTablet = window.innerWidth >= 769 && window.innerWidth <= 1024;
				
				if (cards.length === 0 || isTablet) return;
				
				cards.forEach(function(card) {
					card.addEventListener('mouseenter', function() {
						// Remove active de todos os cards
						cards.forEach(function(c) {
							c.classList.remove('active');
						});
						// Adiciona active no card atual
						this.classList.add('active');
					});
					
					// Para mobile: adicionar evento de toque
					if (window.innerWidth <= 768) {
						const container = document.querySelector('.b4-viewing-right');
						card.addEventListener('touchstart', function() {
							cards.forEach(function(c) {
								c.classList.remove('active');
							});
							this.classList.add('active');
							
							// Scroll suave para o card ativo
							if (container) {
								const cardLeft = this.offsetLeft;
								container.scrollTo({
									left: cardLeft,
									behavior: 'smooth'
								});
							}
						});
					}
				});
			}
			
			// Inicializar quando o DOM estiver pronto
			if (document.readyState === 'loading') {
				document.addEventListener('DOMContentLoaded', function() {
					initSlider();
					initHoverEffect();
				});
			} else {
				initSlider();
				initHoverEffect();
			}
			
			// Para o Shopify Theme Editor
			if (typeof Shopify !== 'undefined' && Shopify.designMode) {
				document.addEventListener('shopify:section:load', function() {
					initSlider();
					initHoverEffect();
				});
			}
		})();
	</script>
{% schema %}
  {
    "name": "Pro block04",
    "class": "shane-pro-b4",
    "settings": [
      {
        "type": "text",
        "id": "heading",
        "label": "Heading"
	  },
      {
        "type": "textarea",
        "id": "text",
        "label": "Text",
        "default": "text"
      },{
			"type": "text",
			"id": "model1",
			"label": "Model",
			"default": "Feature/Model "
		},{
			"type": "text",
			"id": "weight",
			"label": "Weight Range",
			"default": "Weight Range"
		},{
			"type": "text",
			"id": "increment",
			"label": "Incremental",
			"default": "Increments"
		},
		{
			"type": "text",
			"id": "dimension",
			"label": "Dimensions",
			"default": "Dimensions (L x W x H)"
		},
		{
			"type": "text",
			"id": "package",
			"label": "Package Weight",
			"default": "Package Weight"
		},
		{
			"type": "text",
			"id": "material",
			"label": "Material",
			"default": "Material and Construction"
		},
		{
			"type": "text",
			"id": "handle1",
			"label": "Handle",
			"default": "Handle Design"
		},
		{
			"type": "text",
			"id": "mechanism",
			"label": "Mechanism",
			"default": "Adjustment Mechanism"
		},
		{
			"type": "text",
			"id": "price",
			"label": "Price",
			"default": "Price"
		},
		{
			"type": "text",
			"id": "user",
			"label": "User",
			"default": "Target User Group"
		}
    ],
    "blocks": [
       {
         "type": "item",
         "name": "item",
         "settings": [
            {
              "type": "image_picker",
              "id": "image",
              "label": "Image"
            },
            {
              "type": "text",
              "id": "text01",
              "label": "Feature/Model"
			},
            {
              "type": "text",
              "id": "text02",
              "label": "Weight Range"
			},
            {
              "type": "text",
              "id": "text03",
              "label": "Incremental Adjustments"
			},
            {
              "type": "text",
              "id": "text04",
              "label": "Dimensions (L x W x H)"
			},
            {
              "type": "text",
              "id": "text05",
              "label": "Package Weight"
			},
            {
              "type": "text",
              "id": "text06",
              "label": "Material and Construction"
			},
            {
              "type": "text",
              "id": "text07",
              "label": "Handle Design"
			},
            {
              "type": "text",
              "id": "text08",
              "label": "Adjustment Mechanism"
			},
            {
              "type": "text",
              "id": "text09",
              "label": "Price"
			},
            {
              "type": "text",
              "id": "text10",
              "label": "Target User Group"
			},            
            {
              "type": "url",
              "id": "link",
              "label": "Link"
			}
         ]
       }
    ],
    "presets": [
       {
        "name": "Pro block04"
          
       }
    ]
  }
{% endschema %}