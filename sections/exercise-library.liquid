{%- style -%}
  .template-page-exercise-library .unified-header,
  .template-page-exercise-library .unified-header-spacer {
    display: none;
  }

  .exercise-library {
    background: #ffffff;
    color: #0f0f0f;
    padding: 64px 0 80px;
  }

  .exercise-library__container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
  }

  .exercise-library__eyebrow {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 16px;
    text-transform: uppercase;
    letter-spacing: 0.16em;
    font-size: 12px;
    font-weight: 600;
    color: var(--accent-color, rgb(235, 112, 31));
  }

  .exercise-library__eyebrow::before {
    content: '';
    width: 48px;
    height: 3px;
    background: var(--accent-color, rgb(235, 112, 31));
  }

  .exercise-library__title {
    font-size: clamp(28px, 4vw, 44px);
    font-weight: 700;
    margin: 0 0 12px;
  }

  .exercise-library__description {
    font-size: 18px;
    max-width: 640px;
    color: #4b5563;
    margin: 0 0 36px;
  }

  .exercise-library__grid {
    display: grid;
    gap: 24px;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  }

  .exercise-card {
    border: 1px solid #e5e7eb;
    border-radius: 16px;
    background: #ffffff;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    min-height: 100%;
    box-shadow: 0 10px 25px rgba(15, 23, 42, 0.05);
  }

  .exercise-card__media {
    aspect-ratio: 4 / 3;
    background: #f8fafc;
    overflow: hidden;
  }

  .exercise-card__image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .exercise-card__body {
    padding: 24px;
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .exercise-card__meta {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
  }

  .exercise-card__pill {
    display: inline-flex;
    align-items: center;
    padding: 6px 12px;
    border-radius: 999px;
    font-size: 12px;
    font-weight: 600;
    background: rgba(235, 112, 31, 0.15);
    color: var(--accent-color, rgb(235, 112, 31));
  }

  .exercise-card__pill--outline {
    background: transparent;
    border: 1px solid #d1d5db;
    color: #374151;
  }

  .exercise-card__title {
    font-size: 20px;
    margin: 0;
  }

  .exercise-card__label {
    font-size: 12px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: #6b7280;
    display: block;
    margin-bottom: 8px;
  }

  .exercise-card__muscles {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .exercise-card__tags {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
  }

  .exercise-card__tag {
    font-size: 12px;
    padding: 6px 10px;
    border-radius: 8px;
    background: #f3f4f6;
    color: #374151;
  }

  .exercise-card__description {
    margin: 0;
    color: #4b5563;
    font-size: 14px;
    line-height: 1.6;
  }

  .exercise-card__instructions ul {
    margin: 0;
    padding-left: 18px;
    color: #374151;
    font-size: 14px;
    line-height: 1.6;
  }

  .exercise-card__tips {
    margin: 0;
    font-size: 13px;
    color: #111827;
    background: #fef3c7;
    padding: 12px 14px;
    border-radius: 12px;
  }

  .exercise-library__cta {
    margin-top: 56px;
    text-align: center;
  }

  .exercise-library__cta-text {
    color: #6b7280;
    margin-bottom: 16px;
  }

  .exercise-library__cta-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 12px 28px;
    border-radius: 12px;
    background: var(--accent-color, rgb(235, 112, 31));
    color: #ffffff;
    text-decoration: none;
    font-weight: 600;
    font-size: 14px;
    transition: background 0.2s ease;
  }

  .exercise-library__cta-button:hover,
  .exercise-library__cta-button:focus {
    background: #d65a0f;
  }

  @media (max-width: 640px) {
    .exercise-library {
      padding: 48px 0 64px;
    }

    .exercise-card__body {
      padding: 20px;
    }
  }
{%- endstyle -%}

<section class="exercise-library" style="--accent-color: {{ section.settings.accent_color }};">
  <div class="exercise-library__container">
    {%- if section.settings.eyebrow != blank -%}
      <div class="exercise-library__eyebrow">{{ section.settings.eyebrow | escape }}</div>
    {%- endif -%}

    {%- if section.settings.heading != blank -%}
      <h2 class="exercise-library__title">{{ section.settings.heading | escape }}</h2>
    {%- endif -%}

    {%- if section.settings.description != blank -%}
      <p class="exercise-library__description">{{ section.settings.description | escape }}</p>
    {%- endif -%}

    <div class="exercise-library__grid">
      {%- for block in section.blocks -%}
        {%- if block.type == 'exercise' -%}
          {%- render 'exercise-card'
            , exercise: block -%}
        {%- endif -%}
      {%- endfor -%}
    </div>

    {%- if section.settings.show_cta and section.settings.cta_text != blank and section.settings.cta_link != blank -%}
      <div class="exercise-library__cta">
        {%- if section.settings.cta_subtext != blank -%}
          <p class="exercise-library__cta-text">{{ section.settings.cta_subtext | escape }}</p>
        {%- endif -%}
        <a class="exercise-library__cta-button" href="{{ section.settings.cta_link }}">
          {{ section.settings.cta_text | escape }}
        </a>
      </div>
    {%- endif -%}
  </div>
</section>

{% schema %}
  {
    "name": "Exercise Library",
    "settings": [
      {
        "type": "text",
        "id": "eyebrow",
        "label": "Eyebrow",
        "default": "Exercise Library"
      },
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "Master Your Form"
      },
      {
        "type": "textarea",
        "id": "description",
        "label": "Description",
        "default": "Each exercise includes detailed instructions and visual guides to help you train safely and effectively."
      },
      {
        "type": "color",
        "id": "accent_color",
        "label": "Accent color",
        "default": "#EB701F"
      }, {
        "type": "checkbox",
        "id": "show_cta",
        "label": "Show CTA",
        "default": true
      }, {
        "type": "text",
        "id": "cta_subtext",
        "label": "CTA subtext",
        "default": "Quer ver um tutorial completo com passo a passo?"
      }, {
        "type": "text",
        "id": "cta_text",
        "label": "CTA button text",
        "default": "Ver Tutorial Detalhado"
      }, {
        "type": "url",
        "id": "cta_link",
        "label": "CTA button link"
      }
    ],
    "blocks": [
      {
        "type": "exercise",
        "name": "Exercise card",
        "settings": [
          {
            "type": "text",
            "id": "name",
            "label": "Exercise name",
            "default": "Dumbbell Bicep Curl"
          },
          {
            "type": "text",
            "id": "category",
            "label": "Category",
            "default": "Arms"
          },
          {
            "type": "text",
            "id": "difficulty",
            "label": "Difficulty",
            "default": "Beginner"
          },
          {
            "type": "text",
            "id": "muscles",
            "label": "Muscles (comma separated)",
            "default": "Biceps, Forearms"
          }, {
            "type": "textarea",
            "id": "description",
            "label": "Description",
            "default": "The dumbbell bicep curl is a fundamental isolation exercise that targets the biceps brachii."
          }, {
            "type": "textarea",
            "id": "instructions",
            "label": "Instructions (one per line)",
            "default": "Stand with feet shoulder-width apart, holding a dumbbell in each hand with palms facing forward\nKeep your elbows close to your torso and maintain a stable core\nCurl the weights up by contracting your biceps, keeping upper arms stationary\nSqueeze at the top, then slowly lower back to starting position"
          }, {
            "type": "textarea",
            "id": "tips",
            "label": "Tips",
            "default": "Avoid swinging the weights. Control the movement throughout the entire range of motion."
          }, {
            "type": "image_picker",
            "id": "image",
            "label": "Exercise image"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Exercise Library"
      }
    ]
  }
{% endschema %}