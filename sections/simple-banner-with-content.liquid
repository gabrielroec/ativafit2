<!-- Simple Banner Only Image Section with Text + Adjustable Position + Adjustable Line Gap -->
<section id="sb-{{ section.id }}" class="simple-banner-only-image">
  {%- liquid
    assign desktop_image = section.settings.desktop_image
    assign mobile_image = section.settings.mobile_image
    assign alt_text = section.settings.alt_text | default: ''
    assign link_url = section.settings.link_url
    assign preload_image = section.settings.preload_image
    assign section_bg_color = section.settings.section_bg_color | default: 'transparent'
    assign text_color = section.settings.text_color | default: '#ffffff'
    assign text_align = section.settings.text_align | default: 'left'
    assign text_anchor = section.settings.text_anchor | default: 'top-left'
    assign text_pos_x_mobile = section.settings.text_pos_x_mobile | default: 10
    assign text_pos_y_mobile = section.settings.text_pos_y_mobile | default: 50
    assign text_pos_x_desktop = section.settings.text_pos_x_desktop | default: 10
    assign text_pos_y_desktop = section.settings.text_pos_y_desktop | default: 50
    assign heading_body_gap_mobile = section.settings.heading_body_gap_mobile | default: 10
    assign heading_body_gap_desktop = section.settings.heading_body_gap_desktop | default: 12
  -%}

  <div class="banner-wrapper">
    {%- if link_url != blank -%}<a href="{{ link_url }}" class="banner-link">{%- endif -%}
    
    {%- if desktop_image -%}
      <img
        src="{{ desktop_image | image_url: width: 2000 }}"
        alt="{{ alt_text }}"
        class="banner-image banner-image-desktop"
        loading="{% if preload_image %}eager{% else %}lazy{% endif %}"
        width="{{ desktop_image.width }}"
        height="{{ desktop_image.height }}">
      <img
        src="{{ mobile_image | default: desktop_image | image_url: width: 1000 }}"
        alt="{{ mobile_image.alt | default: desktop_image.alt | default: alt_text }}"
        class="banner-image banner-image-mobile"
        loading="{% if preload_image %}eager{% else %}lazy{% endif %}"
        width="{{ mobile_image.width | default: desktop_image.width }}"
        height="{{ mobile_image.height | default: desktop_image.height }}">

      <!-- Text Overlay -->
      <div class="banner-text" style="color: {{ text_color }}; text-align: {{ text_align }};">
        <h1>{{ section.settings.heading_text }}</h1>
        <p>{{ section.settings.body_text }}</p>
      </div>
    {%- else -%}
      <div class="banner-placeholder">
        <p>Add an image to display your banner</p>
      </div>
    {%- endif -%}
    
    {%- if link_url != blank -%}</a>{%- endif -%}
  </div>
</section>

<style>
  #sb-{{ section.id }} {
    background-color: {{ section_bg_color }};
    padding-top: {{ section.settings.padding_top_mobile | default: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom_mobile | default: 0 }}px;
    --pos-x: {{ text_pos_x_mobile }}%;
    --pos-y: {{ text_pos_y_mobile }}%;
    --gap: {{ heading_body_gap_mobile }}px;
  }

  #sb-{{ section.id }} .banner-wrapper { width: 100%; position: relative; }
  #sb-{{ section.id }} .banner-link { display: block; text-decoration: none; }
  #sb-{{ section.id }} .banner-image { width: 100%; height: auto; display: block; object-fit: contain; }
  #sb-{{ section.id }} .banner-image-desktop { display: none; }
  #sb-{{ section.id }} .banner-image-mobile { display: block; }

  #sb-{{ section.id }} .banner-text {
    position: absolute;
    left: var(--pos-x);
    top: var(--pos-y);
    max-width: 80%;
    {% if text_anchor == 'center' %}
      transform: translate(-50%, -50%);
    {% else %}
      transform: translate(0, 0);
    {% endif %}
  }
  #sb-{{ section.id }} .banner-text h2 { font-size: {{ section.settings.heading_font_size_mobile | default: 32 }}px; margin: 0 0 var(--gap) 0; }
  #sb-{{ section.id }} .banner-text p { font-size: {{ section.settings.body_font_size_mobile | default: 18 }}px; margin: 0; }

  #sb-{{ section.id }} .banner-placeholder {
    width: 100%; min-height: 200px; background-color: #f5f5f5;
    display: flex; align-items: center; justify-content: center;
    color: #666; font-size: 16px;
  }

  /* Desktop styles */
  @media (min-width: 1024px) {
    #sb-{{ section.id }} {
      padding-top: {{ section.settings.padding_top_desktop | default: 0 }}px;
      padding-bottom: {{ section.settings.padding_bottom_desktop | default: 0 }}px;
      --pos-x: {{ text_pos_x_desktop }}%;
      --pos-y: {{ text_pos_y_desktop }}%;
      --gap: {{ heading_body_gap_desktop }}px;
    }
    #sb-{{ section.id }} .banner-image-desktop { display: block; }
    #sb-{{ section.id }} .banner-image-mobile { display: none; }
    #sb-{{ section.id }} .banner-text h2 { font-size: {{ section.settings.heading_font_size_desktop | default: 40 }}px; }
    #sb-{{ section.id }} .banner-text p { font-size: {{ section.settings.body_font_size_desktop | default: 18 }}px; }
  }
</style>

{%- schema -%}
{
  "name": "Simple Banner with Text",
  "tag": "section",
  "class": "section-simple-banner-with-text",
  "settings": [
    { "type": "header", "content": "Images" },
    { "type": "image_picker", "id": "desktop_image", "label": "Desktop Image", "info": "Displayed on screens 1024px and wider" },
    { "type": "image_picker", "id": "mobile_image", "label": "Mobile Image", "info": "Displayed on screens smaller than 1024px. Falls back to desktop image if not set." },
    { "type": "text", "id": "alt_text", "label": "Alt Text", "info": "Describe the image for screen readers and SEO" },

    { "type": "header", "content": "Text" },
    { "type": "text", "id": "heading_text", "label": "Heading (H2)", "default": "Your Heading Here" },
    { "type": "text", "id": "body_text", "label": "Body Text", "default": "Your descriptive text here." },
    { "type": "color", "id": "text_color", "label": "Text Color", "default": "#ffffff" },
    { "type": "select", "id": "text_align", "label": "Text Alignment", "default": "left", "options": [ {"value": "left", "label": "Left"}, {"value": "center", "label": "Center"}, {"value": "right", "label": "Right"} ] },
    { "type": "range", "id": "text_pos_x_mobile", "label": "Text Position X (Mobile)", "min": 0, "max": 100, "step": 1, "unit": "%", "default": 10 },
    { "type": "range", "id": "text_pos_y_mobile", "label": "Text Position Y (Mobile)", "min": 0, "max": 100, "step": 1, "unit": "%", "default": 50 },
    { "type": "range", "id": "text_pos_x_desktop", "label": "Text Position X (Desktop)", "min": 0, "max": 100, "step": 1, "unit": "%", "default": 10 },
    { "type": "range", "id": "text_pos_y_desktop", "label": "Text Position Y (Desktop)", "min": 0, "max": 100, "step": 1, "unit": "%", "default": 50 },
    { "type": "select", "id": "text_anchor", "label": "Anchor", "default": "top-left", "options": [ {"value": "top-left", "label": "Top-left"}, {"value": "center", "label": "Center"} ] },

    { "type": "header", "content": "Font Sizes" },
    { "type": "range", "id": "heading_font_size_mobile", "label": "Heading Font Size – Mobile", "min": 16, "max": 64, "step": 1, "unit": "px", "default": 32 },
    { "type": "range", "id": "heading_font_size_desktop", "label": "Heading Font Size – Desktop", "min": 20, "max": 96, "step": 1, "unit": "px", "default": 40 },
    { "type": "range", "id": "body_font_size_mobile", "label": "Body Font Size – Mobile", "min": 12, "max": 28, "step": 1, "unit": "px", "default": 18 },
    { "type": "range", "id": "body_font_size_desktop", "label": "Body Font Size – Desktop", "min": 12, "max": 32, "step": 1, "unit": "px", "default": 18 },
    { "type": "range", "id": "heading_body_gap_mobile", "label": "Heading-Body Gap (Mobile)", "min": 0, "max": 40, "step": 2, "unit": "px", "default": 10 },
    { "type": "range", "id": "heading_body_gap_desktop", "label": "Heading-Body Gap (Desktop)", "min": 0, "max": 60, "step": 2, "unit": "px", "default": 12 },

    { "type": "header", "content": "Link" },
    { "type": "url", "id": "link_url", "label": "Banner Link URL", "info": "Make the entire banner clickable (optional)" },

    { "type": "header", "content": "Performance" },
    { "type": "checkbox", "id": "preload_image", "label": "Preload Image", "default": false, "info": "Enable for above-the-fold banners to improve loading speed" },

    { "type": "header", "content": "Style" },
    { "type": "color", "id": "section_bg_color", "label": "Background Color", "default": "transparent" },

    { "type": "header", "content": "Spacing - Mobile" },
    { "type": "range", "id": "padding_top_mobile", "label": "Top Padding (Mobile)", "min": 0, "max": 100, "step": 4, "unit": "px", "default": 0 },
    { "type": "range", "id": "padding_bottom_mobile", "label": "Bottom Padding (Mobile)", "min": 0, "max": 100, "step": 4, "unit": "px", "default": 0 },

    { "type": "header", "content": "Spacing - Desktop" },
    { "type": "range", "id": "padding_top_desktop", "label": "Top Padding (Desktop)", "min": 0, "max": 200, "step": 8, "unit": "px", "default": 0 },
    { "type": "range", "id": "padding_bottom_desktop", "label": "Bottom Padding (Desktop)", "min": 0, "max": 200, "step": 8, "unit": "px", "default": 0 }
  ],
  "presets": [ { "name": "Simple Banner with Text" } ]
}
{%- endschema -%}
