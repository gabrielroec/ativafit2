{%- comment -%}
  Media Mentions Section - inspirado no HTML fornecido. 
  Permite adicionar blocos de menção à mídia via Theme Editor.
{%- endcomment -%}

<section class="min-h-screen px-6 py-18 md:py-24">
  <div class="mx-auto max-w-7xl">
    <header class="mb-14 text-center">
      <div class="mb-5 inline-flex items-center gap-2.5 rounded-full border border-border/40 bg-white/75 px-4 py-2 shadow-sm backdrop-blur-sm">
        <span class="h-2 w-2 rounded-full bg-brand shadow-[0_0_0_6px_rgba(235,112,31,0.18)]" aria-hidden="true"></span>
        <span class="text-xs font-semibold uppercase tracking-wider text-foreground/70">
          {{ section.settings.featured_in | default: 'Featured in' }}
        </span>
      </div>
      <h1 class="mb-3 text-balance text-4xl font-bold leading-tight tracking-tight md:text-5xl lg:text-6xl">
        {{ section.settings.title | escape }}
      </h1>
      <p class="mx-auto max-w-2xl text-pretty leading-relaxed text-foreground/65">
        {{ section.settings.description | escape }}
      </p>
    </header>
    <section class="grid gap-5 md:grid-cols-2" aria-label="Media mention cards">
      {%- for block in section.blocks -%}
      <article data-index="{{ forloop.index0 }}" class="mention-card group relative overflow-hidden rounded-[18px] border border-border/30 bg-gradient-to-b from-white/90 to-white/76 shadow-card backdrop-blur-sm transition-all duration-500 hover:-translate-y-1 hover:border-brand/40 hover:shadow-card-hover in-view" {{ block.shopify_attributes }}>
        <div class="absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-brand via-brand/35 to-transparent opacity-95"></div>
        <div class="flex h-full flex-col gap-3.5 p-6">
          <div class="flex min-h-[78px] items-center justify-center overflow-hidden rounded-[14px] border border-border/30 bg-white/85 p-4 shadow-sm">
            {%- if block.settings.logo != blank -%}
              <img alt="{{ block.settings.logo_alt | escape }}" loading="lazy" class="h-auto max-h-[42px] w-auto object-contain" src="{{ block.settings.logo | image_url }}" style="filter: saturate(1.05) contrast(1.02);">
            {%- endif -%}
          </div>
          <h3 class="mt-0.5 text-balance text-lg font-semibold leading-tight tracking-tight">
            {{ block.settings.heading | escape }}
          </h3>
          <p class="text-pretty text-sm leading-relaxed text-foreground/68">
            {{ block.settings.text | escape }}
          </p>
          <div class="mt-auto flex items-center justify-between gap-3 border-t border-dashed border-border/30 pt-3">
            <span class="inline-flex items-center gap-2 rounded-full border border-brand/18 bg-brand/10 px-2.5 py-2 text-xs font-semibold text-foreground/72">
              {{ block.settings.badge | escape }}
            </span>
            {%- if block.settings.link_url != blank -%}
              <a href="{{ block.settings.link_url }}" target="_blank" rel="noopener" class="inline-flex items-center gap-2 text-xs font-bold text-foreground/72 opacity-75 transition-all duration-200 group-hover:translate-x-0.5 group-hover:opacity-100">
                {{ block.settings.link_label | escape }}
                <span class="grid h-[18px] w-[18px] place-items-center rounded-full bg-foreground/6">
                  <!-- SVG seta -->
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right h-3 w-3"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg>
                </span>
              </a>
            {%- endif -%}
          </div>
        </div>
      </article>
      {%- endfor -%}
      {%- if section.blocks.size == 0 -%}
        <div class="text-center py-8 w-full col-span-2">Nenhum destaque adicionado ainda.</div>
      {%- endif -%}
    </section>
    <footer class="mt-12 text-center text-xs text-foreground/55">
      Tip: esta seção é "Shopify 2.0" — totalmente editável via Theme Editor.
    </footer>
  </div>
</section>

{% schema %}
{
  "name": "Media Mentions",
  "settings": [
    {
      "type": "text",
      "id": "featured_in",
      "label": "Texto superior (Featured in)",
      "default": "Featured in"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Título principal",
      "default": "MEDIA MENTIONS"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Descrição",
      "default": "A few places that have highlighted Ativafit products — curated mentions, awards, and roundups."
    }
  ],
  "blocks": [
    {
      "type": "media_mention",
      "name": "Mention Card",
      "settings": [
        {
          "type": "image_picker",
          "id": "logo",
          "label": "Logo"
        },
        {
          "type": "text",
          "id": "logo_alt",
          "label": "Alt do logo",
          "default": "Logo do veículo de mídia"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Título do card",
          "default": "Título da Mídia"
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Descrição/trecho da matéria",
          "default": "Resumo, frase ou trecho da matéria."
        },
        {
          "type": "text",
          "id": "badge",
          "label": "Badge/Categoria (ex: Roundup/Award)",
          "default": "Badge"
        },
        {
          "type": "url",
          "id": "link_url",
          "label": "URL para ler/visitar matéria"
        },
        {
          "type": "text",
          "id": "link_label",
          "label": "Texto do link",
          "default": "Read"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Media Mentions",
      "category": "Custom"
    }
  ]
}
{% endschema %}

