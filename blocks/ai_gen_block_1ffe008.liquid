{% doc %}
  @prompt
    Create a clean, modern comparison section showing three products.
    Layout: three vertical columns side by side.
    Each column should include:
    
    Product name at the top
    
    Lifestyle persona (short 1–2 word tagline, e.g., “Beginner-Friendly,” “Versatile Home Gym,” “Heavy Lifter”) with a simple icon above it
    
    Key specs in bullet points (weight range, # of settings, space-saving benefit)
    
    A large “Buy Now” button at the bottom of each column.
    Style: minimal, with white background, orange accents (brand color), rounded cards, and easy-to-read text., Please allow me to insert a lifestyle image, replacing the icon., I need to add a paragraph right under the heading for description of this section.
    Please set the lifestyle image a ratio of 4:3, and enlarge the size of the lifestyle image. The image can be the same wideth of the grid but a little over the boundary of the grid at top.
    
    There will be 4 lines of the comparision items. Please left-justify the name of comparision items and set them in orange. Besides, centered text of description of the bullet points., Please set the bottom corners rounded of the lifestyle images, the border radius should be editable. Also, please enable me to edit the padding of each section. Lessen the space between the buy button and the last text.

{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-product-comparison-{{ ai_gen_id }} {
    padding: {{ block.settings.section_padding_top }}px {{ block.settings.section_padding_horizontal }}px {{ block.settings.section_padding_bottom }}px {{ block.settings.section_padding_horizontal }}px;
    background-color: {{ block.settings.section_background }};
  }

  .ai-product-comparison__container-{{ ai_gen_id }} {
    max-width: 1200px;
    margin: 0 auto;
  }

  .ai-product-comparison__heading-{{ ai_gen_id }} {
    text-align: center;
    margin: 0 0 20px;
    font-size: {{ block.settings.heading_size }}px;
    color: {{ block.settings.text_color }};
  }

  .ai-product-comparison__description-{{ ai_gen_id }} {
    text-align: center;
    margin: 0 0 40px;
    font-size: {{ block.settings.description_size }}px;
    color: {{ block.settings.text_color }};
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
  }

  .ai-product-comparison__grid-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 30px;
  }

  .ai-product-comparison__card-{{ ai_gen_id }} {
    background-color: {{ block.settings.card_background }};
    border-radius: {{ block.settings.card_border_radius }}px;
    padding: 0 {{ block.settings.card_padding_horizontal }}px {{ block.settings.card_padding_bottom }}px {{ block.settings.card_padding_horizontal }}px;text-align: center;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    display: flex;
    flex-direction: column;
    height: 100%;
    position: relative;
    margin-top: 60px;
  }

  .ai-product-comparison__image-container-{{ ai_gen_id }} {
    width: calc(100% + {{ block.settings.card_padding_horizontal | times: 2 }}px);
    height: 0;
    padding-bottom: 75%;
    margin: -60px -{{ block.settings.card_padding_horizontal }}px {{ block.settings.image_bottom_spacing }}px -{{ block.settings.card_padding_horizontal }}px;
    border-radius: {{ block.settings.image_border_radius }}px {{ block.settings.image_border_radius }}px {{ block.settings.image_bottom_border_radius }}px {{ block.settings.image_bottom_border_radius }}px;
    overflow: hidden;
    position: relative;
  }

  .ai-product-comparison__image-{{ ai_gen_id }} {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .ai-product-comparison__image-placeholder-{{ ai_gen_id }} {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .ai-product-comparison__image-placeholder-{{ ai_gen_id }} svg {
    width: 60%;
    height: 60%;color: #ccc;
  }

  .ai-product-comparison__persona-{{ ai_gen_id }} {
    font-size: {{ block.settings.persona_size }}px;
    color: {{ block.settings.accent_color }};
    font-weight: 600;
    margin: 0 0 {{ block.settings.persona_bottom_spacing }}px;
  }

  .ai-product-comparison__product-name-{{ ai_gen_id }} {
    font-size: {{ block.settings.product_name_size }}px;
    color: {{ block.settings.text_color }};
    font-weight: 700;
    margin: 0 0 {{ block.settings.product_name_bottom_spacing }}px;
  }

  .ai-product-comparison__specs-{{ ai_gen_id }} {
    flex-grow: 1;
    margin-bottom: {{ block.settings.specs_bottom_spacing }}px;
  }

  .ai-product-comparison__specs-{{ ai_gen_id }} .comparison-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 0;
    border-bottom: 1px solid #f0f0f0;
  }

  .ai-product-comparison__specs-{{ ai_gen_id }} .comparison-item:last-child {
    border-bottom: none;
  }

  .ai-product-comparison__specs-{{ ai_gen_id }} .comparison-label {
    color: {{ block.settings.accent_color }};
    font-weight: 600;
    font-size: {{ block.settings.specs_size }}px;
    text-align: left;
    flex: 1;
  }

  .ai-product-comparison__specs-{{ ai_gen_id }} .comparison-value {
    color: {{ block.settings.text_color }};
    font-size: {{ block.settings.specs_size }}px;
    text-align: center;
    flex: 1;
  }

  .ai-product-comparison__button-{{ ai_gen_id }} {
    background-color: {{ block.settings.button_background }};
    color: {{ block.settings.button_text_color }};
    border: none;
    border-radius: {{ block.settings.button_border_radius }}px;
    padding: 15px 30px;
    font-size: {{ block.settings.button_text_size }}px;
    font-weight: 600;
    text-decoration: none;
    display: inline-block;
    cursor: pointer;
    transition: background-color 0.3s ease;
    width: 100%;
  }

  .ai-product-comparison__button-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.button_hover_background }};
  }

  .ai-product-comparison__empty-state-{{ ai_gen_id }} {
    text-align: center;
    padding: 60px 20px;
    color: #666;
    font-style: italic;
  }

  @media screen and (max-width: 768px) {
    .ai-product-comparison__grid-{{ ai_gen_id }} {
      grid-template-columns: 1fr;
      gap: 20px;
    }

    .ai-product-comparison__card-{{ ai_gen_id }} {
      padding: 0 {{ block.settings.card_padding_horizontal }}px {{ block.settings.card_padding_bottom }}px {{ block.settings.card_padding_horizontal }}px;
      margin-top: 40px;
    }

    .ai-product-comparison__image-container-{{ ai_gen_id }} {
      margin: -40px -{{ block.settings.card_padding_horizontal }}px {{ block.settings.image_bottom_spacing }}px -{{ block.settings.card_padding_horizontal }}px;
    }
  }

  @media screen and (max-width: 1024px) and (min-width: 769px) {
    .ai-product-comparison__grid-{{ ai_gen_id }} {
      gap: 20px;
    }
  }
{% endstyle %}

<div class="ai-product-comparison-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-product-comparison__container-{{ ai_gen_id }}">
    {% if block.settings.heading != blank %}
      <h2 class="ai-product-comparison__heading-{{ ai_gen_id }}">{{ block.settings.heading }}</h2>
    {% endif %}

    {% if block.settings.description != blank %}
      <div class="ai-product-comparison__description-{{ ai_gen_id }}">{{ block.settings.description }}</div>
    {% endif %}

    {% assign has_content = false %}
    {% for i in (1..3) %}
      {% liquid
        assign product_key = 'product_' | append: i
        assign product = block.settings[product_key]
        if product != blank
          assign has_content = true
          break
        endif
      %}
    {% endfor %}

    {% if has_content %}
      <div class="ai-product-comparison__grid-{{ ai_gen_id }}">
        {% for i in (1..3) %}
          {% liquid
            assign product_key = 'product_' | append: i
            assign persona_key = 'persona_' | append: i
            assign spec1_label_key = 'spec1_label_' | append: i
            assign spec1_value_key = 'spec1_value_' | append: i
            assign spec2_label_key = 'spec2_label_' | append: i
            assign spec2_value_key = 'spec2_value_' | append: i
            assign spec3_label_key = 'spec3_label_' | append: i
            assign spec3_value_key = 'spec3_value_' | append: i
            assign spec4_label_key = 'spec4_label_' | append: i
            assign spec4_value_key = 'spec4_value_' | append: i
            assign image_key = 'lifestyle_image_' | append: i

            assign product = block.settings[product_key]
            assign persona = block.settings[persona_key]
            assign spec1_label = block.settings[spec1_label_key]
            assign spec1_value = block.settings[spec1_value_key]
            assign spec2_label = block.settings[spec2_label_key]
            assign spec2_value = block.settings[spec2_value_key]
            assign spec3_label = block.settings[spec3_label_key]
            assign spec3_value = block.settings[spec3_value_key]
            assign spec4_label = block.settings[spec4_label_key]
            assign spec4_value = block.settings[spec4_value_key]
            assign lifestyle_image = block.settings[image_key]
          %}

          {% if product != blank %}
            <div class="ai-product-comparison__card-{{ ai_gen_id }}">
              {% if lifestyle_image %}
                <div class="ai-product-comparison__image-container-{{ ai_gen_id }}">
                  <img
                    src="{{ lifestyle_image | image_url: width: 600}}"
                    alt="{{ lifestyle_image.alt | escape }}"
                    class="ai-product-comparison__image-{{ ai_gen_id }}"loading="lazy"
                    width="{{ lifestyle_image.width }}"
                    height="{{ lifestyle_image.height }}"
                  >
                </div>
              {% else %}
                <div class="ai-product-comparison__image-container-{{ ai_gen_id }}">
                  <div class="ai-product-comparison__image-placeholder-{{ ai_gen_id }}">
                    {{ 'lifestyle-1' | placeholder_svg_tag }}
                  </div>
                </div>
              {% endif %}

              {% if persona != blank %}
                <div class="ai-product-comparison__persona-{{ ai_gen_id }}">{{ persona }}</div>
              {% endif %}

              <h3 class="ai-product-comparison__product-name-{{ ai_gen_id }}">{{ product.title }}</h3><div class="ai-product-comparison__specs-{{ ai_gen_id }}">
                {% if spec1_label != blank and spec1_value != blank %}
                  <div class="comparison-item">
                    <div class="comparison-label">{{ spec1_label }}</div>
                    <div class="comparison-value">{{ spec1_value }}</div>
                  </div>
                {% endif %}
                {% if spec2_label != blank and spec2_value != blank %}
                  <div class="comparison-item">
                    <div class="comparison-label">{{ spec2_label }}</div>
                    <div class="comparison-value">{{ spec2_value }}</div>
                  </div>
                {% endif %}
                {% if spec3_label != blank and spec3_value != blank %}
                  <div class="comparison-item">
                    <div class="comparison-label">{{ spec3_label }}</div>
                    <div class="comparison-value">{{ spec3_value }}</div>
                  </div>
                {% endif %}
                {% if spec4_label != blank and spec4_value != blank %}
                  <div class="comparison-item">
                    <div class="comparison-label">{{ spec4_label }}</div>
                    <div class="comparison-value">{{ spec4_value }}</div>
                  </div>
                {% endif %}
              </div>

              <a href="{{ product.url }}" class="ai-product-comparison__button-{{ ai_gen_id }}">
                {{ block.settings.button_text }}
              </a>
            </div>
          {% endif %}
        {% endfor %}
      </div>
    {% else %}
      <div class="ai-product-comparison__empty-state-{{ ai_gen_id }}">
        Next, select products to compare
      </div>
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Product comparison",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Compare Our Products"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description",
      "default": "<p>Find the perfect equipment for your fitness goals with our detailed comparison guide.</p>"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text",
      "default": "Buy Now"
    },
    {
      "type": "header",
      "content": "Product1"
    },
    {
      "type": "product",
      "id": "product_1",
      "label": "Product"
    },
    {
      "type": "image_picker",
      "id": "lifestyle_image_1",
      "label": "Lifestyle image"
    },
    {
      "type": "text",
      "id": "persona_1",
      "label": "Persona tagline",
      "default": "Beginner-Friendly"
    },
    {
      "type": "text",
      "id": "spec1_label_1",
      "label": "Spec 1 label",
      "default": "Weight Range"
    },
    {
      "type": "text",
      "id": "spec1_value_1",
      "label": "Spec 1 value",
      "default": "5-50 lbs"
    },
    {
      "type": "text",
      "id": "spec2_label_1",
      "label": "Spec 2 label",
      "default": "Settings"
    },
    {
      "type": "text",
      "id": "spec2_value_1",
      "label": "Spec 2 value",
      "default": "6resistance levels"
    },
    {
      "type": "text",
      "id": "spec3_label_1",
      "label": "Spec 3 label",
      "default": "Space"
    },
    {
      "type": "text",
      "id": "spec3_value_1",
      "label": "Spec 3 value",
      "default": "Compact design"
    },
    {
      "type": "text",
      "id": "spec4_label_1",
      "label": "Spec 4 label",
      "default": "Best For"
    },
    {
      "type": "text",
      "id": "spec4_value_1",
      "label": "Spec 4 value",
      "default": "Home workouts"
    },
    {
      "type": "header",
      "content": "Product 2"
    },
    {
      "type": "product",
      "id": "product_2",
      "label": "Product"
    },
    {
      "type": "image_picker",
      "id": "lifestyle_image_2",
      "label": "Lifestyle image"
    },
    {
      "type": "text",
      "id": "persona_2",
      "label": "Persona tagline",
      "default": "Versatile Home Gym"
    },
    {
      "type": "text",
      "id": "spec1_label_2",
      "label": "Spec 1 label",
      "default": "Weight Range"
    },
    {
      "type": "text",
      "id": "spec1_value_2",
      "label": "Spec 1 value",
      "default": "10-100 lbs"
    },
    {
      "type": "text",
      "id": "spec2_label_2",
      "label": "Spec 2 label",
      "default": "Settings"
    },
    {
      "type": "text",
      "id": "spec2_value_2",
      "label": "Spec 2 value",
      "default": "12 resistance levels"
    },
    {
      "type": "text",
      "id": "spec3_label_2",
      "label": "Spec 3 label",
      "default": "Space"
    },
    {
      "type": "text",
      "id": "spec3_value_2",
      "label": "Spec 3 value",
      "default": "All-in-one solution"
    },
    {
      "type": "text",
      "id": "spec4_label_2",
      "label": "Spec 4 label",
      "default": "Best For"
    },
    {
      "type": "text",
      "id": "spec4_value_2",
      "label": "Spec 4 value",
      "default": "Full body training"
    },
    {
      "type": "header",
      "content": "Product 3"
    },
    {
      "type": "product",
      "id": "product_3",
      "label": "Product"
    },
    {
      "type": "image_picker",
      "id": "lifestyle_image_3",
      "label": "Lifestyle image"
    },
    {
      "type": "text",
      "id": "persona_3",
      "label": "Persona tagline",
      "default": "Heavy Lifter"
    },
    {
      "type": "text",
      "id": "spec1_label_3",
      "label": "Spec 1 label",
      "default": "Weight Range"
    },
    {
      "type": "text",
      "id": "spec1_value_3",
      "label": "Spec 1 value",
      "default": "20-200 lbs"
    },
    {
      "type": "text",
      "id": "spec2_label_3",
      "label": "Spec 2 label",
      "default": "Settings"
    },
    {
      "type": "text",
      "id": "spec2_value_3",
      "label": "Spec 2 value",
      "default": "20 resistance levels"
    },
    {
      "type": "text",
      "id": "spec3_label_3",
      "label": "Spec 3 label",
      "default": "Space"
    },
    {
      "type": "text",
      "id": "spec3_value_3",
      "label": "Spec 3 value",
      "default": "Professional grade"
    },
    {
      "type": "text",
      "id": "spec4_label_3",
      "label": "Spec 4 label",
      "default": "Best For"
    },
    {
      "type": "text",
      "id": "spec4_value_3",
      "label": "Spec 4 value",
      "default": "Serious athletes"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "section_background",
      "label": "Section background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "card_background",
      "label": "Card background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "accent_color",
      "label": "Accent color",
      "default": "#eb7122"
    },
    {
      "type": "color",
      "id": "button_background",
      "label": "Button background",
      "default": "#eb7122"
    },
    {
      "type": "color",
      "id": "button_hover_background",
      "label": "Button hover background",
      "default": "#d65a0f"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button text color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "range",
      "id": "heading_size",
      "min": 20,
      "max": 50,
      "step": 2,
      "unit": "px",
      "label": "Heading size",
      "default": 32
    },
    {
      "type": "range",
      "id": "description_size",
      "min": 14,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Description size",
      "default": 16
    },
    {
      "type": "range",
      "id": "product_name_size",
      "min": 16,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Product name size",
      "default": 20
    },
    {
      "type": "range",
      "id": "persona_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Persona size",
      "default": 14
    },
    {
      "type": "range",
      "id": "specs_size",
      "min": 12,
      "max": 18,
      "step": 1,
      "unit": "px",
      "label": "Specs size",
      "default": 14
    },
    {
      "type": "range",
      "id": "button_text_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Button text size",
      "default": 16
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "section_padding_top",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Section padding top",
      "default": 40
    },
    {
      "type": "range",
      "id": "section_padding_bottom",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Section padding bottom",
      "default": 40
    },
    {
      "type": "range",
      "id": "section_padding_horizontal",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Section padding horizontal",
      "default": 20
    },
    {
      "type": "range",
      "id": "card_padding_horizontal",
      "min": 10,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Card padding horizontal",
      "default": 20
    },
    {
      "type": "range",
      "id": "card_padding_bottom",
      "min": 10,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Card padding bottom",
      "default": 30
    },
    {
      "type": "range",
      "id": "image_bottom_spacing",
      "min": 10,
      "max": 40,
      "step": 5,
      "unit": "px",
      "label": "Image bottom spacing",
      "default": 20
    },
    {
      "type": "range",
      "id": "persona_bottom_spacing",
      "min": 10,
      "max": 40,
      "step": 5,
      "unit": "px",
      "label": "Persona bottom spacing",
      "default": 20
    },
    {
      "type": "range",
      "id": "product_name_bottom_spacing",
      "min": 15,
      "max": 40,
      "step": 5,
      "unit": "px",
      "label": "Product name bottom spacing",
      "default": 25
    },
    {
      "type": "range",
      "id": "specs_bottom_spacing",
      "min": 10,
      "max": 40,
      "step": 5,
      "unit": "px",
      "label": "Specs bottom spacing",
      "default": 15
    },
    {
      "type": "header",
      "content": "Style"
    },
    {
      "type": "range",
      "id": "card_border_radius",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Card border radius",
      "default": 12
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Button border radius",
      "default": 8
    },
    {
      "type": "range",
      "id": "image_border_radius",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Image top border radius",
      "default": 8
    },
    {
      "type": "range",
      "id": "image_bottom_border_radius",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Image bottom border radius",
      "default": 8
    }
  ],
  "presets": [
    {
      "name": "Product comparison"
    }
  ]
}
{% endschema %}