document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".product-detail").forEach(e=>{const t=e.querySelector(".product-detail__gallery-main-image"),r=e.querySelectorAll(".gallery-thumbs .thumb"),s=e.querySelector(".gallery-thumbs");let o,c,a=!1;s&&(s.addEventListener("mousedown",e=>{window.innerWidth<=768&&(a=!0,o=e.pageX-s.offsetLeft,c=s.scrollLeft,s.style.cursor="grabbing")}),s.addEventListener("touchstart",e=>{window.innerWidth<=768&&(a=!0,o=e.touches[0].pageX-s.offsetLeft,c=s.scrollLeft)}),s.addEventListener("mouseleave",()=>{a=!1,s.style.cursor=""}),s.addEventListener("mouseup",()=>{a=!1,s.style.cursor=""}),s.addEventListener("touchend",()=>{a=!1}),s.addEventListener("mousemove",e=>{if(!a)return;e.preventDefault();const t=2*(e.pageX-s.offsetLeft-o);s.scrollLeft=c-t}),s.addEventListener("touchmove",e=>{if(!a)return;const t=2*(e.touches[0].pageX-s.offsetLeft-o);s.scrollLeft=c-t})),r.forEach(r=>{r.addEventListener("click",()=>{t.src=r.dataset.src,e.querySelectorAll(".thumb.active").forEach(e=>e.classList.remove("active")),r.classList.add("active")})})}),document.querySelectorAll(".qty-decrease, .qty-increase").forEach(e=>{e.addEventListener("click",()=>{const t=e.closest(".product-info__quantity").querySelector(".qty-input");let r=parseInt(t.value,10);e.classList.contains("qty-decrease")?r=Math.max(1,r-1):r++,t.value=r})})});